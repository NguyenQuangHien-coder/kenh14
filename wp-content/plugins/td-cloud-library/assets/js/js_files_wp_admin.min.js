"undefined"===typeof window.tdcPostSettings&&(window.tdcPostSettings={tdbTemplateType:"all"});if(window.tdbVue&&"undefined"!==typeof window.tdbVue.router){var eventHub=new Vue;Vue.component("image-links",{template:'\n            <a :class="classes" :href="link">{{text}}</a>\n        ',props:{classes:[],link:"",text:""}});new Vue({el:"#tdb-modal",router:window.tdbVue.router})}window.tdbVueManager&&"undefined"!==typeof window.tdbVueManager.router&&new Vue({el:"#tdb-modal-website-manager",router:window.tdbVueManager.router});
(function(){jQuery('#menu-posts-tdb_templates a[href$="post-new.php?post_type=tdb_templates"], #wp-admin-bar-new-tdb_templates a[href$="post-new.php?post_type=tdb_templates"]').hide()})();(function(){jQuery(".post-type-tdb_templates .page-title-action").addClass("page-title-action-show").click(function(a){a.preventDefault();window.tdbVue.router.push({name:"loadRoute"})})})();
function tdbCategoryTemplateSelect(){var a=jQuery("#td-panel-categories"),b=a.find('select[name="td_option[tdb_category_template]"]'),e=a.find(".td_panel_box_category_global_settings");""===b.val()?a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),c=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;c=a.find('select[name="td_category['+c+'][tdb_category_template]"]');""!==c.val()&&("theme_templates"===c.val()?a.removeClass("hide-settings"):
!1===a.hasClass("td-box-close")&&a.addClass("hide-settings"))}):(e.addClass("hide-settings"),a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),c=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;"theme_templates"===a.find('select[name="td_category['+c+'][tdb_category_template]"]').val()?a.removeClass("hide-settings"):!1===a.hasClass("td-box-close")&&a.addClass("hide-settings")}));!1===b.hasClass("change-event-bound")&&
(b.addClass("change-event-bound"),b.change(function(b){""===jQuery(this).val()?(e.removeClass("hide-settings"),a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),b=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;b=a.find('select[name="td_category['+b+'][tdb_category_template]"]');"theme_templates"===b.val()?a.removeClass("hide-settings"):""===b.val()&&!1===a.hasClass("td-box-close")&&a.removeClass("hide-settings")})):
(e.addClass("hide-settings"),a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),b=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id;"theme_templates"===a.find('select[name="td_category['+b+'][tdb_category_template]"]').val()?a.removeClass("hide-settings"):!1===a.hasClass("td-box-close")&&a.addClass("hide-settings")}))}));a.find("div[class*='td_panel_box_category_individual_settings_cat_']").each(function(){var a=jQuery(this),
c=a.children(".td-box-header").eq(0).data("panel-ajax-params").category_id,d=a.find('select[name="td_category['+c+'][tdb_category_template]"]');!1===d.hasClass("change-event-bound")&&(d.addClass("change-event-bound"),d.change(function(c){""===d.val()?""===b.val()?a.removeClass("hide-settings"):a.addClass("hide-settings"):"theme_templates"===d.val()?a.removeClass("hide-settings"):!1===a.hasClass("td-box-close")&&a.addClass("hide-settings")}))})}
function tdbHeaderTemplateSelect(){var a=jQuery("#td-panel-header"),b=a.find('select[name^="td_option[tdb_header_template"]');b.length&&(""===b.val()?a.removeClass("hide-settings"):a.addClass("hide-settings"));b.off().on("change",function(){tdbHeaderTemplateSelect()})}
function tdbFooterTemplateSelect(){var a=jQuery("#td-panel-footer"),b=a.find('select[name^="td_option[tdb_footer_template"]');b.length&&(""===b.val()?a.removeClass("hide-settings"):a.addClass("hide-settings"));b.off().on("change",function(){tdbFooterTemplateSelect()})}
jQuery(".tdb-duplicate-template").click(function(a){a.preventDefault();a=jQuery("#the-list");jQuery("tr#post-"+jQuery(this).data("post-id")).addClass("tdb-duplicate-working");a.addClass("tdb-disable-list");tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/new_template",post:{postId:jQuery(this).data("post-id"),templateType:jQuery(this).data("template-type"),templateName:jQuery(this).data("template-name"),duplicateTemplate:!0},done:function(a){location.reload()},error:function(a){console.log("td-cloud-library/new_template ( duplicate template ) - ERROR",
a)}})});
